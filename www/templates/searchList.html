<ion-view view-title='Búsqueda'>
	<ion-content class="description-background">
		<div class="card" ng-show="hayResultados()">
				<div class="item item-text-wrap" style="text-align:center;">
				<span ng-if="numberOfResults==1">{{numberOfResults}} resultado de "{{term}}"</span>
				<span ng-if="numberOfResults>1">{{numberOfResults}} resultados de "{{term}}"</span>
			</div>
		</div>

		<ion-list ng-show="hayResultados()">
			<!-- Importante, el array events debe estar ordenado -->
			<div ng-repeat="day in ::events">
				<div class="item item-divider tituloDia " ng-if="day.length >0 ">
		          <!--Cabecera de día -->
		          Día {{day[0].day}}
		        </div>

		        <!-- Listado de eventos de ese día -->
				<div  ng-repeat="event in ::day" class="item elemento-lista-eventos" ng-click="displayEvent(event.id)">

					<div class="row">
  						<div class="col col-20"><img src="img/{{event.category}}.png" class="left-image"></div>
  						<div class="col">
  							<div>
								<img  class="fav-star" ng-src="img/fav-{{isFav(event.id)}}.png" ng-click="toggleFav(event.id); $event.stopPropagation();">
							</div>
							<span class="tituloLista">{{event.title}}</span>
							<br/>
							<span class="horaLista"><span   class="icon ion-calendar"></span>   Día {{event.day}} - {{event.hour}}</span>
							<br/><span class="horaLista"><span  class="icon ion-location"></span>   {{event.place_text}}</span>

  						</div>
  
					</div>

					
				</div>
			</div>
		</ion-list>
		<div class="card" ng-hide="hayResultados()">
			<div class="item item-text-wrap">
				No hay resultados para la búsqueda de "{{term}}"
			</div>
		</div>
	</ion-content>
</ion-view>